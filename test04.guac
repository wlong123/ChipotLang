def x = ref 0 in
def inc_x = fun y =>
  x := !x + 1
in
def t1 = thread (inc_x ()) in
def t2 = thread (inc_x ()) in
def t3 = thread (inc_x ()) in
def t4 = thread (inc_x ()) in
def t5 = thread (inc_x ()) in
print !x